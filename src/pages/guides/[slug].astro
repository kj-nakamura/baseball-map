---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

export async function getStaticPaths() {
  const guides = await getCollection('guides');
  return guides.map(guide => ({
    params: { slug: guide.slug },
    props: guide,
  }));
}

const guide = Astro.props;
const { Content } = await guide.render();

// çƒå›£åˆ¥ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å®šç¾©
const teamColors = {
  giants: { primary: '#ff6b35', secondary: '#f7931e', name: 'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒ„' },
  tigers: { primary: '#ffff00', secondary: '#000000', name: 'ã‚¿ã‚¤ã‚¬ãƒ¼ã‚¹' },
  dragons: { primary: '#005aab', secondary: '#0080ff', name: 'ãƒ‰ãƒ©ã‚´ãƒ³ã‚º' },
  carp: { primary: '#ff0000', secondary: '#cc0000', name: 'ã‚«ãƒ¼ãƒ—' },
  baystars: { primary: '#005baa', secondary: '#87ceeb', name: 'ãƒ™ã‚¤ã‚¹ã‚¿ãƒ¼ã‚º' },
  swallows: { primary: '#00539f', secondary: '#00a0b0', name: 'ã‚¹ãƒ¯ãƒ­ãƒ¼ã‚º' },
  fighters: { primary: '#0f1419', secondary: '#00bfff', name: 'ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º' },
  marines: { primary: '#000000', secondary: '#ff6600', name: 'ãƒãƒªãƒ¼ãƒ³ã‚º' },
  buffaloes: { primary: '#ffd700', secondary: '#8b4513', name: 'ãƒãƒ•ã‚¡ãƒ­ãƒ¼ã‚º' },
  lions: { primary: '#0f1419', secondary: '#ffd700', name: 'ãƒ©ã‚¤ã‚ªãƒ³ã‚º' },
  hawks: { primary: '#ffff00', secondary: '#000000', name: 'ãƒ›ãƒ¼ã‚¯ã‚¹' },
  eagles: { primary: '#660000', secondary: '#ffd700', name: 'ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹' },
};

const currentTeam = teamColors[guide.slug] || teamColors.giants;

// æ—…è¡Œãƒ—ãƒ©ãƒ³ã®ãƒãƒƒãƒ”ãƒ³ã‚°
const travelPlans = {
  giants: {
    path: '/travel/tokyo-giants-2days',
    title: 'æ±äº¬ç‹é“è¦³å…‰ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ¯',
    description: 'çš‡å±…ãƒ»æµ…è‰ãƒ»éŠ€åº§ã‚’å·¡ã‚‹å®šç•ªã®2æ—¥é–“ãƒ—ãƒ©ãƒ³',
  },
  tigers: {
    path: '/travel/osaka-tigers-2days',
    title: 'å¤§é˜ªãƒ»ç¥æˆ¸2æ—¥é–“ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ…',
    description: 'å¤§é˜ªåŸã¨ç¥æˆ¸ã®é­…åŠ›ã‚’æº€å–«',
  },
  dragons: {
    path: '/travel/nagoya-2days',
    title: 'åå¤å±‹ã‚ã—ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ°',
    description: 'åå¤å±‹åŸã¨çµ¶å“ã‚°ãƒ«ãƒ¡ã‚’æ¥½ã—ã‚€',
  },
  carp: {
    path: '/travel/hiroshima-2days',
    title: 'å¹³å’Œãƒ»å®®å³¶æº€å–«ã‚³ãƒ¼ã‚¹',
    icon: 'â›©ï¸',
    description: 'åºƒå³¶ã®æ­´å²ã¨å®®å³¶ã®çµ¶æ™¯',
  },
  baystars: {
    path: '/travel/yokohama-2days',
    title: 'æ¨ªæµœã¿ãªã¨ã¿ã‚‰ã„ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸŒ‰',
    description: 'æ¸¯ç”ºæ¨ªæµœã®é­…åŠ›ã‚’æº€å–«',
  },
  swallows: {
    path: '/travel/tokyo-swallows-2days',
    title: 'æ±äº¬ãƒ¢ãƒ€ãƒ³è¦³å…‰ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ¨',
    description: 'ç¾ä»£æ±äº¬ã®é­…åŠ›ã‚’ç™ºè¦‹',
  },
  fighters: {
    path: '/travel/hokkaido-3days',
    title: 'åŒ—æµ·é“3æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ”ï¸',
    description: 'å¤§è‡ªç„¶ã¨ç¾é£Ÿã®åŒ—æµ·é“',
  },
  marines: {
    path: '/travel/chiba-2days',
    title: 'åƒè‘‰2æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸŒŠ',
    description: 'æˆ¿ç·åŠå³¶ã®è‡ªç„¶ã¨æµ·ã‚’æº€å–«',
  },
  buffaloes: {
    path: '/travel/osaka-2days',
    title: 'å¤§é˜ª2æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸ°',
    description: 'å¤§é˜ªã®é£Ÿæ–‡åŒ–ã¨è¦³å…‰ã‚¹ãƒãƒƒãƒˆ',
  },
  lions: {
    path: '/travel/saitama-2days',
    title: 'åŸ¼ç‰2æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸŒ¸',
    description: 'å°æ±Ÿæˆ¸å·è¶Šã¨ç§©çˆ¶ã®è‡ªç„¶',
  },
  hawks: {
    path: '/travel/fukuoka-2days',
    title: 'ç¦å²¡2æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸœ',
    description: 'åšå¤šã‚°ãƒ«ãƒ¡ã¨æ­´å²æ¢è¨ª',
  },
  eagles: {
    path: '/travel/miyagi-2days',
    title: 'å®®åŸ2æ—¥é–“ãƒ¢ãƒ‡ãƒ«ã‚³ãƒ¼ã‚¹',
    icon: 'ğŸŒ¸',
    description: 'ä»™å°ã¨æ¾å³¶ã®çµ¶æ™¯å·¡ã‚Š',
  },
};

const currentTravel = travelPlans[guide.slug];
---

<BaseLayout title={guide.data.title} description={guide.data.description}>
  <header
    class="guide-header"
    style={`background: linear-gradient(135deg, ${currentTeam.primary} 0%, ${currentTeam.secondary} 100%);`}
  >
    <div class="header-content">
      <h1>ğŸŸï¸ {guide.data.title}</h1>
      <p class="subtitle">{guide.data.description}</p>
      <nav>
        <a href="/" class="nav-link">â† çƒå ´ãƒãƒƒãƒ—ã«æˆ»ã‚‹</a>
        <a href="/guides" class="nav-link">è¦³æˆ¦ã‚¬ã‚¤ãƒ‰ä¸€è¦§</a>
      </nav>
    </div>
  </header>

  <main class="guide-main">
    <section class="hero">
      <div class="hero-content">
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-label">çƒå ´</span>
            <span class="stat-value">{guide.data.stadium}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">æ‰€åœ¨åœ°</span>
            <span class="stat-value">{guide.data.location}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">ãƒªãƒ¼ã‚°</span>
            <span class="stat-value">{guide.data.league}</span>
          </div>
          {
            guide.data.capacity && (
              <div class="stat-item">
                <span class="stat-label">åå®¹äººæ•°</span>
                <span class="stat-value">
                  {guide.data.capacity.toLocaleString()}äºº
                </span>
              </div>
            )
          }
        </div>
      </div>
    </section>

    <div class="content-wrapper">
      <article class="article-modern">
        <Content />
      </article>
    </div>

    {
      currentTravel && (
        <section class="travel-plan">
          <h2>ğŸ—¾ è¦³å…‰ãƒ—ãƒ©ãƒ³</h2>
          <div class="travel-info">
            <p>
              é‡çƒè¦³æˆ¦ã¨åˆã‚ã›ã¦
              {guide.data.location
                .replace('çœŒ', '')
                .replace('å¸‚', '')
                .replace('éƒ½', '')
                .replace('åºœ', '')}
              è¦³å…‰ã‚’æ¥½ã—ã¿ã¾ã›ã‚“ã‹ï¼Ÿ
            </p>
            <div class="travel-links">
              <a
                href={currentTravel.path}
                class="travel-link"
                style={`border-color: ${currentTeam.primary};`}
              >
                <div class="travel-icon">{currentTravel.icon}</div>
                <h3 style={`color: ${currentTeam.primary};`}>
                  {currentTravel.title}
                </h3>
                <p>{currentTravel.description}</p>
              </a>
            </div>
          </div>
        </section>
      )
    }
  </main>

  <footer class="guide-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="/">ğŸ  çƒå ´ãƒãƒƒãƒ—</a>
        <a href="/guides">ğŸ“– è¦³æˆ¦ã‚¬ã‚¤ãƒ‰ä¸€è¦§</a>
        <a href="/travel">ğŸ—¾ æ—…è¡Œãƒ—ãƒ©ãƒ³</a>
      </div>
      <p class="footer-copyright">&copy; 2025 ãƒ—ãƒ­é‡çƒ12çƒå›£æœ¬æ‹ åœ°ãƒãƒƒãƒ—</p>
    </div>
  </footer>
</BaseLayout>

<style>
  @import './slug.css';
</style>
